#!/usr/bin/env bash

set -euo pipefail

source script/env "$@"

if [[ ! -f "$DIR/project.yml" ]]; then
  echo -e "${YELLOW}project.yml not found; nothing to update.${OFF}"
  exit 0
fi

if ! command -v xcodegen >/dev/null 2>&1; then
  echo -e "${RED}xcodegen not found. Run script/bootstrap.${OFF}"
  exit 1
fi

echo -e "${BLUE}Generating Xcode project...${OFF}"
(cd "$DIR" && xcodegen generate)
echo -e "${GREEN}âœ… Update complete!${OFF}"
